{"version":3,"sources":["features/Food/reducer.ts","components/SearchInput.tsx","features/Survey/selectors.ts","components/Header.tsx","features/Simulator/selectors.ts","features/Simulator/Simulator.tsx","features/Food/selectors.ts","components/FoodList.tsx","features/Intake/reducer.ts","components/InfoTable.tsx","features/Survey/reducer.ts","features/Survey/survey.tsx","components/Card.tsx","features/Intake/selectors.ts","features/Simulator/reducer.ts","features/Intake/Intake.tsx","features/Food/Food.tsx","services/api.ts","features/Simulator/saga.ts","features/Food/saga.ts","features/Intake/saga.ts","store/sagas.js","store/reducer.ts","store/index.ts","App.js","index.js"],"names":["slice","createSlice","name","initialState","foodInfo","input","options","foodItem","currentWeight","targetWeight","calorie","reducers","foodAutoCompleteRequest","state","action","payload","foodOptionsReceived","fooditemsRequest","foodItemsReceived","map","Map","hints","filter","item","has","food","label","set","image","nutrients","foodId","foodApiErrorReceived","reducer","actions","useStyles","makeStyles","theme","createStyles","root","padding","display","alignItems","width","marginLeft","spacing","flex","iconButton","divider","height","margin","SearchInput","classes","dispatch","useDispatch","useState","inputValue","setInputValue","Paper","component","className","onSubmit","e","preventDefault","InputBase","placeholder","inputProps","onChange","event","target","value","IconButton","type","aria-label","onClick","getSurveyStatus","survey","complete","getSurveyWeight","weight","getSurveyAge","age","background","grow","flexGrow","color","Header","status","useSelector","AppBar","position","Toolbar","Typography","variant","getTargetWeight","simulator","getBeforeImg","beforeImage","getAfterImg","afterImage","getState","Simulator","beforeImg","afterImg","showCurrentImg","setCurrentImg","showTargetImg","setTargetImg","style","justifyContent","Tooltip","title","src","alt","CSSTransition","in","timeout","classNames","unmountOnExit","onEnter","onExited","getOptionInput","getOptions","getFoodItem","getFoodInfo","maxWidth","backgroundColor","palette","paper","FoodList","selectors","listItems","index","ListItem","button","ListItemText","primary","length","List","aria-labelledby","subheader","ListSubheader","id","data","addItem","concat","reduce","a","b","ENERC_KCAL","reduceItem","splice","intakeApiErrorReceived","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","headCells","numeric","disablePadding","EnhancedTableHead","props","onSelectAllClick","numSelected","rowCount","onRequestSort","TableHead","TableRow","TableCell","Checkbox","indeterminate","checked","headCell","align","sortDirection","TableSortLabel","active","direction","property","visuallyHidden","useToolbarStyles","paddingLeft","paddingRight","highlight","secondary","main","lighten","light","text","dark","EnhancedTableToolbar","selected","clsx","marginBottom","table","minWidth","border","clip","overflow","top","card","EnhancedTable","foodData","React","setOrder","setOrderBy","setSelected","page","setPage","dense","setDense","showCard","setShowCard","rowsPerPage","setRowsPerPage","useEffect","emptyRows","Math","min","TableContainer","Table","size","newSelecteds","n","TableBody","row","isItemSelected","info","selectedIndex","forEach","isSelected","labelId","hover","newSelected","handleClick","role","aria-checked","tabIndex","scope","PROCNT","FIBTG","FAT","CHOCDF","Card","CardActionArea","CardMedia","onMouseLeave","onMouseEnter","colSpan","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","parseInt","FormControlLabel","control","Switch","surveyCompleted","console","log","shape","toLowerCase","bust","surveyApiErrorReceived","StartSurvey","model","Survey","elements","isRequired","validators","minValue","maxValue","colCount","choices","marginTop","onComplete","zIndex","ImgCard","CardContent","gutterBottom","CardActions","Button","getSelectedItems","intake","getTotalCalories","simulatorDataRecevied","stateDispatch","imageDataReceived","current","goal","simulatorApiErrorReceived","Intake","valid","startSimulation","errorMessage","error","dispatchSimulationError","sqrt","simulatorActions","cards","flexWrap","Link","to","Food","surveyStatus","getFoodOptions","inputIngr","axios","get","params","q","limit","app_id","process","REACT_APP_FOOD_APP_ID","app_key","REACT_APP_FOOD_APP_KEY","getFooditems","ingr","postImages","post","REACT_APP_SIMULATOR_APP_KEY","postDietData","simulatorDataRecieved","stateDataDispatch","apiErrorReceived","watchSimulator","select","call","imageData","put","SimulatorActions","stateData","toast","takeEvery","foodOptionsRecieved","foodItemRecieved","watchFood","optionInput","optionsData","FoodActions","foodItemData","watchIntake","IntakeActions","spawn","simulatorSaga","foodSaga","intakeSaga","simulatorReducer","foodReducer","intakeReducer","surveyReducer","combineReducers","store","composeEnhancers","composeWithDevTools","sagaMiddleware","createSagaMiddleware","middlewares","applyMiddleware","createStore","run","sagas","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ca8ce558.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from 'redux-starter-kit';\n\nexport interface foodState {\n  foodInfo: any;\n  input: string;\n  options: string[];\n  foodItem: string;\n  currentWeight: number;\n  targetWeight: number;\n  calorie: number;\n}\n\nconst initialState:foodState = {\n  foodInfo: [],\n  input: '',\n  options:[],\n  foodItem: '',\n  currentWeight: 0,\n  targetWeight: 0,\n  calorie: 0\n};\n\nconst slice = createSlice({\n  name: 'food',\n  initialState,\n  reducers: {\n    foodAutoCompleteRequest: (state, action: PayloadAction<string>) => {\n      state.input = action.payload\n    },\n    foodOptionsReceived: (state, action: PayloadAction<string[]>) => {\n      state.options = action.payload\n    },\n    fooditemsRequest: (state, action: PayloadAction<string>) => {\n      state.foodItem = action.payload\n    },\n    foodItemsReceived: (state, action: PayloadAction<any>) => {\n      const map = new Map()\n      state.foodInfo = action.payload.hints.filter((item: any) => {\n        if(!map.has(item.food.label)){\n          map.set(item.food.label, 1)\n        }\n        else if(map.has(item.food.label)){\n          return false\n        }\n        return item.food.image\n      }).map((item:any) => {\n        item.food.nutrients = {image: item.food.image, label: item.food.label, foodId: item.food.foodId, ...item.food.nutrients}\n        return item\n      })\n    },\n    foodApiErrorReceived: (state, action: PayloadAction<any>) => state,\n  },\n});\n\nexport const reducer = slice.reducer;\nexport const actions = slice.actions;","import React, { useState } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useDispatch } from 'react-redux';\nimport { actions } from '../features/Food/reducer';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: '2px 4px',\n      display: 'flex',\n      alignItems: 'center',\n      width: 400,\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1,\n    },\n    iconButton: {\n      padding: 10,\n    },\n    divider: {\n      height: 28,\n      margin: 4,\n    },\n  }),\n);\n\nexport default function SearchInput() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [inputValue, setInputValue] = useState('')\n  const searchOptions = (value: string) => {\n    dispatch(actions.foodAutoCompleteRequest(value))\n  }\n  const submitHandler = (e: any) => {\n    e.preventDefault()\n  }\n  \n  return (\n    <Paper component=\"form\" className={classes.root} onSubmit={submitHandler}>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Search Your Meal\"\n        inputProps={{ 'aria-label': 'search meal ingr' }}\n        onChange={(event: React.ChangeEvent<HTMLInputElement>) => setInputValue(event.target.value)}\n      />\n      <IconButton type=\"button\" className={classes.iconButton} aria-label=\"search\" onClick={() => searchOptions(inputValue)}>\n        <SearchIcon/>\n      </IconButton>\n    </Paper>\n  );\n}\n\n\n","import { IState } from '../../store';\n\nexport const getSurveyStatus = (state: IState) => state.survey.complete;\nexport const getSurveyWeight = (state: IState) => state.survey.weight;\nexport const getSurveyAge = (state: IState) => state.survey.age;\nexport const getSurveyBust = (state: IState) => state.survey.bust;\nexport const getSurveyShape = (state: IState) => state.survey.shape;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchInput from '../components/SearchInput';\nimport { useSelector } from 'react-redux';\nimport { getSurveyStatus } from '../features/Survey/selectors';\n\nconst useStyles = makeStyles({\n  root: {\n    background: '#FFE2EC',\n    width: \"100%\"\n  },\n  grow: {\n    flexGrow: 1,\n    color: '#F60057'\n  },\n});\n\nexport default function Header() {\n  const classes = useStyles();\n  const status = useSelector(getSurveyStatus)\n\n  return (\n    <AppBar position=\"static\" className={classes.root}>\n      <Toolbar>\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n          Calorie Simulator （only for female by now）\n        </Typography>\n        {status ? <SearchInput/> : null}\n      </Toolbar>\n    </AppBar>\n  );\n};","import { IState } from '../../store';\n\nexport const getTargetWeight = (state: IState) => state.simulator.targetWeight;\nexport const getBeforeImg = (state: IState) => state.simulator.beforeImage;\nexport const getAfterImg = (state: IState) => state.simulator.afterImage;\nexport const getState = (state: IState) => state;","import {useState} from 'react';\nimport { useSelector } from 'react-redux';\nimport { getBeforeImg, getAfterImg} from './selectors';\nimport { CSSTransition } from 'react-transition-group';\nimport './simulator.css';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nexport default function Simulator() {\n  const beforeImg = useSelector(getBeforeImg)\n  const afterImg = useSelector(getAfterImg)\n  const [showCurrentImg, setCurrentImg] = useState(true)\n  const [showTargetImg, setTargetImg] = useState(false)\n \n  return (\n  <div style={{padding: \"2%\", display: 'flex', justifyContent: 'center'}}>\n    {showCurrentImg && (\n      <Tooltip title=\"Current Body Shape\">\n        <img \n          src={ beforeImg } \n          alt=\"current\" \n          aria-label=\"current\"\n          onClick={() => setTargetImg(true)}\n        />\n      </Tooltip>\n    ) }\n    <CSSTransition\n        in={showTargetImg}\n        timeout={300}\n        classNames=\"alert\"\n        unmountOnExit\n        onEnter={() => setCurrentImg(false)}\n        onExited={() => setCurrentImg(true)}\n      >\n      <Tooltip title=\"Target Body Shape\">\n        <img \n          src={ afterImg } \n          alt=\"goal\" \n          aria-label=\"current\"\n          onClick={() => setTargetImg(false)}\n        />\n      </Tooltip>\n      </CSSTransition>\n  </div>)\n};\n","import { IState } from '../../store';\n\nexport const getOptionInput = (state: IState) => state.food.input;\nexport const getOptions = (state: IState) => state.food.options;\nexport const getFoodItem = (state: IState) => state.food.foodItem;\nexport const getFoodInfo = (state: IState) => state.food.foodInfo;\n\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport * as selectors from '../features/Food/selectors';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { actions } from '../features/Food/reducer';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper,\n    },\n    paper: {\n        width: '300px'\n    }\n  }),\n);\n\nexport default function FoodList() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const options = useSelector(selectors.getOptions);\n  const getFooditems = (foodItem: string) => {\n    dispatch(actions.fooditemsRequest(foodItem))\n  }\n\n  const listItems = options.map((item, index) => {\n    return  (\n        <ListItem key={index} button>\n            <ListItemText primary={item} onClick={() => getFooditems(item) }/>\n        </ListItem>)\n  })\n          \n  if(options.length === 0){\n      return <div>Please search a food</div>\n  }\n  else{\n    return (\n        <Paper className={classes.paper}>\n            <List\n                component=\"nav\"\n                aria-labelledby=\"nested-list-subheader\"\n                subheader={\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\" style={{background: '#FFE2EC', color: '#F60057'}}>\n                    Do you mean one of following ingredients ?\n                    </ListSubheader>\n                }\n                className={classes.root}\n            >\n            {listItems}\n            </List>\n        </Paper>\n      );\n  }\n}","import { createSlice, PayloadAction } from 'redux-starter-kit';\n\nexport interface intakeState {\n  data:any,\n  calorie: number\n}\n\nconst initialState:intakeState = {\n  data:[],\n  calorie: 0\n};\n\nconst slice = createSlice({\n  name: 'intake',\n  initialState,\n  reducers: {\n    addItem: (state, action: PayloadAction<any>) => {\n      state.data = state.data.concat(action.payload)\n      state.calorie = state.data.reduce((a: number, b: any) => {\n        return a + b.ENERC_KCAL\n      }, 0)\n    },\n    reduceItem: (state, action: PayloadAction<string>) => {\n      state.data.splice(action.payload, 1)\n      state.calorie = state.data.reduce((a: number, b: any) => {\n        return a + b.ENERC_KCAL\n      }, 0)\n    },\n    intakeApiErrorReceived: (state, action: PayloadAction<any>) => state,\n  },\n});\n\nexport const reducer = slice.reducer;\nexport const actions = slice.actions;","import React, { useEffect } from 'react';\nimport clsx from 'clsx';\nimport { createStyles, lighten, makeStyles, Theme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getFoodInfo } from '../features/Food/selectors';\nimport { actions } from '../features/Intake/reducer';\n\ninterface Data {\n    Name: string\n    ENERC_KCAL:number\n    PROCNT:number\n    FIBTG:number\n    FAT:number\n    CHOCDF:number\n}\n\nfunction descendingComparator<T>(a: T, b: T, orderBy: keyof T) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\ntype Order = 'asc' | 'desc';\n\nfunction getComparator<Key extends keyof any>(\n  order: Order,\n  orderBy: Key,\n): (a: { [key in Key]: number | string }, b: { [key in Key]: number | string }) => number {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort<T>(array: T[], comparator: (a: T, b: T) => number) {\n  const stabilizedThis = array.map((el: any, index) => [el.food.nutrients, index] as [T, number]);\n\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\ninterface HeadCell {\n  disablePadding: boolean;\n  id: keyof Data;\n  label: string;\n  numeric: boolean;\n}\n\nconst headCells: HeadCell[] = [\n  { id: 'Name', numeric: false, disablePadding: true, label: 'Food (per serve)' },\n  { id: 'ENERC_KCAL', numeric: true, disablePadding: false, label: 'ENERC (kcal)' },\n  { id: 'PROCNT', numeric: true, disablePadding: false, label: 'PROCNT (g)' },\n  { id: 'FIBTG', numeric: true, disablePadding: false, label: 'FIBTG (g)' },\n  { id: 'FAT', numeric: true, disablePadding: false, label: 'FAT (g)' },\n  { id: 'CHOCDF', numeric: true, disablePadding: false, label: 'CHOCDF (g)' }\n];\n\ninterface EnhancedTableProps {\n  classes: ReturnType<typeof useStyles>;\n  numSelected: number;\n  onRequestSort: (event: React.MouseEvent<unknown>, property: keyof Data) => void;\n  onSelectAllClick: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  order: Order;\n  orderBy: string;\n  rowCount: number;\n}\n\nfunction EnhancedTableHead(props: EnhancedTableProps) {\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = props;\n  const createSortHandler = (property: keyof Data) => (event: React.MouseEvent<unknown>) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ 'aria-label': 'select all desserts' }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n        <TableCell></TableCell>\n      </TableRow>\n    </TableHead>\n  );\n}\n\nconst useToolbarStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(1),\n    },\n    highlight:\n      theme.palette.type === 'light'\n        ? {\n            color: theme.palette.secondary.main,\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n          }\n        : {\n            color: theme.palette.text.primary,\n            backgroundColor: theme.palette.secondary.dark,\n          },\n    title: {\n      flex: '1 1 100%',\n    },\n  }),\n);\n\nconst EnhancedTableToolbar = (props: any) => {\n  const classes = useToolbarStyles();\n  const { numSelected, selected } = props;\n  const dispatch = useDispatch();\n\n  const handleAddItem = () => {\n    dispatch(actions.addItem(selected))\n  };\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n          Nutrition\n        </Typography>\n      )}\n      {numSelected > 0 ?\n        <Tooltip title=\"Add to diet plan\">\n          <IconButton aria-label=\"diet plan\" onClick={ () => handleAddItem() }>\n            <AddCircleIcon />\n          </IconButton>\n        </Tooltip> : null }\n    </Toolbar>\n  );\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n    },\n    paper: {\n      width: '100%',\n      marginBottom: theme.spacing(2),\n    },\n    table: {\n      minWidth: 750,\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: 1,\n      margin: -1,\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      top: 20,\n      width: 1,\n    },\n    card: {\n      maxWidth: 125,\n    },\n  }),\n);\n\nexport default function EnhancedTable() {\n  const foodData = useSelector(getFoodInfo)\n  const classes = useStyles();\n  const [order, setOrder] = React.useState<Order>('asc');\n  const [orderBy, setOrderBy] = React.useState<keyof Data>('ENERC_KCAL');\n  const [selected, setSelected] = React.useState<any[]>([]);\n  const [page, setPage] = React.useState(0);\n  const [dense, setDense] = React.useState(false);\n  const [showCard, setShowCard] = React.useState(false);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  useEffect(() => {\n    setSelected([])\n  }, [foodData])\n\n  const handleRequestSort = (event: React.MouseEvent<unknown>, property: keyof Data) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.checked) {\n      const newSelecteds = foodData.map((n: any) => n.food.nutrients);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  const handleClick = (event: React.MouseEvent<unknown>, info: any) => {\n    let selectedIndex = -1 \n    selected.forEach((item, index) => {\n      if(item.label === info.label){\n        selectedIndex = index\n        return \n      }\n    });\n    let newSelected: any[] = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, info);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const handleChangeDense = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setDense(event.target.checked);\n  };\n\n  const isSelected = (info: any) => {\n    let selectedIndex = -1 \n    selected.forEach((item, index) => {\n      if(item.label === info.label){\n        selectedIndex = index\n        return\n      }\n    });\n    return selectedIndex !== -1\n  }\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, foodData.length - page * rowsPerPage);\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <EnhancedTableToolbar numSelected={selected.length} selected={selected}/>\n        <TableContainer>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={dense ? 'small' : 'medium'}\n            aria-label=\"enhanced table\"\n          >\n            <EnhancedTableHead\n              classes={classes}\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={foodData.length}\n            />\n            <TableBody>\n              {stableSort(foodData, getComparator(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row: any, index) => {\n                  const isItemSelected = isSelected(row);\n                  const labelId = `enhanced-table-checkbox-${index}`;\n\n                  return (\n                    <TableRow\n                      hover\n                      onClick={(event: any) => handleClick(event, row)}\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                      key={row.label}\n                      selected={isItemSelected}\n                    >\n                      <TableCell padding=\"checkbox\">\n                        <Checkbox\n                          checked={isItemSelected}\n                          inputProps={{ 'aria-labelledby': labelId }}\n                        />\n                      </TableCell>\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                        {row.label}\n                      </TableCell>\n                      <TableCell align=\"right\">{row.ENERC_KCAL}</TableCell>\n                      <TableCell align=\"right\">{row.PROCNT}</TableCell>\n                      <TableCell align=\"right\">{row.FIBTG}</TableCell>\n                      <TableCell align=\"right\">{row.FAT}</TableCell>\n                      <TableCell align=\"right\">{row.CHOCDF}</TableCell>\n                      <TableCell align=\"right\">\n                        {showCard ? <Card className={classes.card}>\n                          <CardActionArea>\n                            <CardMedia\n                              component=\"img\"\n                              alt={row.label}\n                              height=\"140\"\n                              image={row.image}\n                              title={row.label}\n                              onMouseLeave={() => setShowCard(!showCard)}\n                            />\n                          </CardActionArea>\n                        </Card> :  \n                        <Tooltip \n                          title='preview' \n                          onMouseEnter={() => setShowCard(!showCard)} >\n                          <IconButton \n                            aria-label=\"Image\">\n                            <InfoIcon />\n                          </IconButton>\n                        </Tooltip>}\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={foodData.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onChangePage={handleChangePage}\n          onChangeRowsPerPage={handleChangeRowsPerPage}\n        />\n      </Paper>\n      <FormControlLabel\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\n        label=\"Dense padding\"\n      />\n    </div>\n  );\n}","import { createSlice, PayloadAction } from 'redux-starter-kit';\n\nexport interface surveyState {\n    complete: boolean,\n    age: string,\n    weight: number,\n    bust?: string,\n    shape?: string\n}\n\nconst initialState:surveyState = {\n complete: false,\n age: '',\n weight: 0\n};\n\nconst slice = createSlice({\n  name: 'survey',\n  initialState,\n  reducers: {\n    surveyCompleted: (state, action: PayloadAction<any>) => {\n      state.complete = true\n      console.log(action.payload)\n      state.age = 'AG' + action.payload.age\n      state.weight = action.payload.weight\n      state.shape = action.payload.shape.toLowerCase()\n      let bust = ''\n      if(action.payload.bust){\n        bust = action.payload.bust === \"Small-Medium\" ? 'small' : 'large'\n      }\n      state.bust = bust\n    },\n    surveyApiErrorReceived: (state, action: PayloadAction<any>) => state,\n  },\n});\n\nexport const reducer = slice.reducer;\nexport const actions = slice.actions;","//In your react App.js or yourComponent.js file add these lines to import\nimport * as Survey from \"survey-react\";\nimport \"survey-react/survey.css\";\nimport { useDispatch } from 'react-redux';\nimport { actions } from './reducer';\n \nexport default function StartSurvey() {\n //Define Survey JSON\n //Here is the simplest Survey with one text question\n const dispatch = useDispatch()\n const json = {\n  elements: [\n   { \n     type: \"text\", \n     name: \"age\", \n     title: \"How old are you?\", \n     isRequired: true,\n     validators: [\n      {\n          type: \"numeric\",\n          minValue: 10,\n          maxValue: 90\n      }\n  ]\n    },\n   { \n     type: \"text\", \n     name: \"weight\", \n     title: \"What is your current weight (lb)?\", \n     isRequired: true,\n     validators: [\n      {\n          type: \"numeric\",\n          minValue: 60,\n          maxValue: 300\n      }\n  ]\n    },\n    {\n      type: \"dropdown\",\n      name: \"shape\",\n      title: \"Please select your body shape\",\n      isRequired: false,\n      colCount: 0,\n      choices: [\n          \"Apple\",\n          \"Pear\",\n          \"Hourglass\",\n      ]\n    },\n    {\n      type: \"dropdown\",\n      name: \"bust\",\n      title: \"Please select your bust\",\n      isRequired: false,\n      colCount: 0,\n      choices: [\n          \"Small-Medium\",\n          \"Medium-Large\",\n      ]\n    }\n  ]\n };\n\n //Define a callback methods on survey complete\n const onComplete = (survey: any, options: any) => {\n  //Write survey results into database\n  dispatch(actions.surveyCompleted(survey.data))\n }\n var model = new Survey.Model(json);\n  return (\n    <div >\n      <div style={{background: '#1AB394', height: '100px', marginTop: '-200px'}} />\n        <Survey.Survey model={model} onComplete={onComplete} />\n      <div style={{background: '#1AB394', height: '280px'}} />\n  </div>\n  );\n} ","import { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useDispatch } from 'react-redux';\nimport { actions } from '../features/Intake/reducer';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 245,\n    minWidth: 150,\n    zIndex:10,\n    margin: \"10px\"\n  },\n});\n\nexport default function ImgCard(props: any) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const removeItem = () => {\n    console.log(props)\n    dispatch(actions.reduceItem(props.foodId))\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <CardMedia\n          component=\"img\"\n          alt={props.food.label}\n          height=\"140\"\n          image={props.food.image}\n          title={props.food.label}\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {props.food.label}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            Calorie per serve: {props.food.ENERC_KCAL} KCAl\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => removeItem()}>\n          Remove\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}","import { IState } from '../../store';\n\nexport const getSelectedItems = (state: IState) => state.intake.data;\nexport const getTotalCalories = (state: IState) => state.intake.calorie;\n\n\n\n","import { createSlice, PayloadAction } from 'redux-starter-kit';\nexport interface simulatorState {\n  targetWeight: number;\n  beforeImage: string;\n  afterImage: string;\n}\n\nconst initialState:simulatorState = {\n  targetWeight: 0,\n  beforeImage: '',\n  afterImage: ''\n};\n\nconst slice = createSlice({\n  name: 'simulator',\n  initialState,\n  reducers: {\n    simulatorDataRecevied: (state, action: PayloadAction<any>) => {\n      state.targetWeight = action.payload\n    },\n    stateDispatch: (state, action: PayloadAction<any>) => {\n    },\n    imageDataReceived:  (state, action: PayloadAction<any>) => {\n      state.beforeImage = action.payload.current\n      state.afterImage = action.payload.goal\n    },\n    simulatorApiErrorReceived: (state, action: PayloadAction<any>) => state,\n  },\n});\n\nexport const reducer = slice.reducer;\nexport const actions = slice.actions;","import Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport ImgCard from '../../components/Card';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport { useSelector,useDispatch } from 'react-redux';\nimport { getSelectedItems, getTotalCalories } from './selectors';\nimport { actions } from  './reducer';\nimport { actions as simulatorActions } from '../Simulator/reducer';\nimport { Link } from 'react-router-dom';\n\nexport default function Intake() {\n  const dispatch = useDispatch()\n  const intake = useSelector(getSelectedItems)\n  const calorie = useSelector(getTotalCalories)\n  const valid = (calorie < 4500) && (calorie > 1900) ? true : false\n\n  const dispatchSimulationError = () => {\n    let errorMessage = ''\n    if(calorie > 4500){\n      errorMessage = 'It is too much for an adult daily intake, please remove some food'\n    }\n    else if(calorie < 1900){\n      errorMessage = 'It is too less for an adult daily intake, please add more food'\n    }\n    dispatch(actions.intakeApiErrorReceived({error: errorMessage}))\n  }\n\n  const startSimulation = () => {\n    if (calorie > 4500 || calorie < 1900){\n      dispatchSimulationError()\n    }\n    else {\n      const targetWeight = Math.sqrt((calorie - 752.901)/0.028) - 167.074\n      dispatch(simulatorActions.simulatorDataRecevied(targetWeight))\n      dispatch(simulatorActions.stateDispatch())\n    }\n  }\n  \n  const cards = intake.length > 0 ? (intake.map((item: any, index: number) => {\n      return <ImgCard food={item} key={index} foodId={index} style={{minWidth: \"100px\"}}/>\n    })):null\n  \n  return (\n    <Card>\n      <CardActionArea>\n        <CardContent>\n        <Typography color=\"textSecondary\" gutterBottom>\n          Total Calories: {calorie} KCAL\n        </Typography>\n          <div style={{display: 'flex', justifyContent:'space-around', flexWrap: \"wrap\"}}>\n            {cards}\n          </div>\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        {valid ? <Button component={Link} to={'/simulator'} size=\"large\" variant=\"contained\" color=\"secondary\" onClick={startSimulation}>\n          Run Simulation\n        </Button> : <Button size=\"large\" variant=\"contained\" color=\"secondary\" onClick={startSimulation}>\n          Run Simulation\n        </Button>}\n      </CardActions>\n    </Card>\n )\n};","import FoodList from '../../components/FoodList';\nimport InforTable from '../../components/InfoTable';\nimport { getFoodInfo } from './selectors';\nimport { useSelector } from 'react-redux';\nimport StartSurvey from '../Survey/survey';\nimport Intake from '../Intake/Intake';\nimport { getSurveyStatus } from '../Survey/selectors';\n\nexport default function Food() {\n  const foodData = useSelector(getFoodInfo)\n  const surveyStatus = useSelector(getSurveyStatus)\n  \n  return (\n    <div>\n      <div style={{display: 'flex', justifyContent:'center', margin: '50px'}}>\n      <FoodList/>\n      </div>\n      {foodData.length > 0 ? <InforTable /> : null}\n      {surveyStatus ? <Intake /> : <StartSurvey /> }\n    </div>\n )\n};","import axios from 'axios'\n\n// get drop down food options \nexport const getFoodOptions = (inputIngr: string) => {\n    return axios.get(`https://api.edamam.com/auto-complete`,{\n        params: {\n            q:inputIngr,\n            limit: 10,\n            app_id: process.env.REACT_APP_FOOD_APP_ID,\n            app_key: process.env.REACT_APP_FOOD_APP_KEY,\n          \n        }\n    })\n}\n\n// get food items in table\nexport const getFooditems = (ingr: string) => {\n    return axios.get(`/api/food-database/v2/parser`,{\n        params: {\n            ingr: ingr,\n            app_id: process.env.REACT_APP_FOOD_APP_ID,\n            app_key: process.env.REACT_APP_FOOD_APP_KEY,\n        }\n    })\n}\n\n\n// generate simulation images\nexport const postImages = (currentWeight:number, age: string, targetWeight: number, bust='small', shape='hourglass') => {\n\n    return axios.post(`http://sandbox.modelmydiet.com/women`,{\n        \"api_key\": process.env.REACT_APP_SIMULATOR_APP_KEY,\n        \"units\":\"imperial\",\n        \"height\":\"65\",\n        \"shape\": shape,\n        \"bust\": bust,\n        \"ethnicity\":\"CA01\",\n        \"age\": age,\n        \"eyes\":\"EYR\",\n        \"nose\":\"NOS\",\n        \"lips\":\"LPT\",\n        \"beard_style\": \"BS01\",\n        \"beard_color\": \"BC01\",\n        \"hair_color\":\"HC01\",\n        \"hair_style\":\"HS21\",\n        \"outfit\":\"undergarment\",\n        \"background\":\"blank\",\n        \"view\":\"front\",\n        \"delta\": {\n            \"current\":{\n                \"weight\": currentWeight\n            },\n            \"goal\" : {\n                \"weight\": targetWeight\n            }\n        }\n    })\n}\n\n// store input to database\nexport const postDietData = (data: any) => {\n    return axios.post(`http://localhost:8000`,  {data})\n}","import { postImages, postDietData } from '../../services/api';\nimport { takeEvery, put, call, select } from 'redux-saga/effects';\nimport { actions as SimulatorActions } from './reducer';\nimport { PayloadAction } from 'redux-starter-kit';\nimport { toast } from 'react-toastify';\nimport * as selectors from './selectors';\nimport {getSurveyAge, getSurveyWeight} from '../Survey/selectors';\n\nfunction* simulatorDataRecieved(action: PayloadAction<any>): any {\n    const currentWeight = yield select(getSurveyWeight);\n    const age = yield select(getSurveyAge);\n    const targetWeight = yield select(selectors.getTargetWeight);\n    try {\n        const imageData = yield call(postImages, currentWeight, age, targetWeight)\n        yield put(SimulatorActions.imageDataReceived(imageData.data))\n    }\n    catch(error) {\n        yield put(SimulatorActions.simulatorApiErrorReceived(error))\n    }\n  }\n  \n  function* stateDataDispatch(action: PayloadAction<any>): any {\n    const stateData = yield select(selectors.getState);\n   \n    try {\n      console.log('1', stateData)\n        yield call(postDietData, stateData)\n    }\n    catch(error) {\n        yield put(SimulatorActions.simulatorApiErrorReceived(error))\n    }\n  }\n\nfunction* apiErrorReceived(action: PayloadAction<any>) {\n    yield call(toast.error, `Error Received: ${action.payload.error}`);\n  }\n\nexport default function* watchSimulator() {\n    yield takeEvery(SimulatorActions.simulatorDataRecevied.type, simulatorDataRecieved);\n    yield takeEvery(SimulatorActions.stateDispatch.type, stateDataDispatch);\n    yield takeEvery(SimulatorActions.simulatorApiErrorReceived.type, apiErrorReceived);\n  }","import { takeEvery, put, call, select } from 'redux-saga/effects';\nimport { getFoodOptions, getFooditems } from '../../services/api'\nimport { toast } from 'react-toastify';\nimport * as selectors from './selectors';\nimport { PayloadAction } from 'redux-starter-kit';\nimport { actions as FoodActions } from './reducer';\n\nfunction* foodOptionsRecieved(action: PayloadAction<any>): any {\n  const optionInput = yield select(selectors.getOptionInput);\n  try {\n    const optionsData = yield call(getFoodOptions, optionInput);\n    if(optionsData.data.length === 0){\n      const errorMessage = 'Your input is not valid, please try another food'\n      yield put(FoodActions.foodApiErrorReceived({error: errorMessage}));\n    }\n    yield put(FoodActions.foodOptionsReceived(optionsData.data));\n  }\n  catch(error) {\n    yield put(FoodActions.foodApiErrorReceived(error));\n  }\n  \n}\n\nfunction* foodItemRecieved(action: PayloadAction<any>): any {\n  const foodItem = yield select(selectors.getFoodItem);\n  try {\n    const foodItemData = yield call(getFooditems, foodItem);\n    yield put(FoodActions.foodItemsReceived(foodItemData.data));\n  }\n  catch(error) {\n    yield put(FoodActions.foodApiErrorReceived(error));\n  }\n}\n\nfunction* apiErrorReceived(action: PayloadAction<any>) {\n  yield call(toast.error, `Error Received: ${action.payload.error}`);\n}\n\nexport default function* watchFood() {\n  yield takeEvery(FoodActions.foodAutoCompleteRequest.type, foodOptionsRecieved);\n  yield takeEvery(FoodActions.fooditemsRequest.type, foodItemRecieved);\n  yield takeEvery(FoodActions.foodApiErrorReceived.type, apiErrorReceived);\n}","import { takeEvery, call } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport { PayloadAction } from 'redux-starter-kit';\nimport { actions as IntakeActions } from './reducer';\n\nfunction* apiErrorReceived(action: PayloadAction<any>) {\n  yield call(toast.error, `Error Received: ${action.payload.error}`);\n}\n  \nexport default function* watchIntake() {\n  yield takeEvery(IntakeActions.intakeApiErrorReceived.type, apiErrorReceived);\n}","import { spawn } from 'redux-saga/effects';\nimport simulatorSaga from '../features/Simulator/saga';\nimport foodSaga from '../features/Food/saga';\nimport intakeSaga from '../features/Intake/saga';\n\nexport default function* root() {\n  yield spawn(simulatorSaga);\n  yield spawn(foodSaga);\n  yield spawn(intakeSaga);\n}\n","import { reducer as simulatorReducer } from '../features/Simulator/reducer';\nimport { reducer as foodReducer } from '../features/Food/reducer';\nimport { reducer as intakeReducer } from '../features/Intake/reducer';\nimport { reducer as surveyReducer } from '../features/Survey/reducer';\n\nconst reducer = {\n  simulator: simulatorReducer,\n  food: foodReducer,\n  intake: intakeReducer,\n  survey: surveyReducer\n};\n\nexport default reducer\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport createSagaMiddleware from 'redux-saga';\nimport { combineReducers } from 'redux-starter-kit';\nimport sagas from './sagas';\nimport reducers from './reducer';\n\nconst reducer = combineReducers(reducers);\nexport type IState = ReturnType<typeof reducer>;\n\nexport default function mainStore(){\n  const composeEnhancers = composeWithDevTools({});\n  const sagaMiddleware = createSagaMiddleware();\n  const middlewares = applyMiddleware(sagaMiddleware);\n  const store = createStore(reducer, composeEnhancers(middlewares));\n\n  sagaMiddleware.run(sagas);\n\n  return store;\n};\n","import './App.css';\nimport Header from './components/Header';\nimport Simulator from './features/Simulator/Simulator';\nimport Food from './features/Food/Food';\nimport createStore from './store';\nimport { Provider } from 'react-redux';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nconst store = createStore();\n\nfunction App() {\n  return (\n    <Provider store={store} >\n      <Router>\n        <ToastContainer />\n        <Switch>\n          <Route exact path=\"/CICD\">\n            <Header />\n            <Food/>\n          </Route>\n          <Route exact path=\"/simulator\">\n            <Simulator />\n          </Route>\n        </Switch>\n      </Router>\n    </Provider>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n \nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}